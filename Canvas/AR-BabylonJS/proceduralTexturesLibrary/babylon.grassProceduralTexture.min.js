!function(o,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("babylonjs")):"function"==typeof define&&define.amd?define("babylonjs-procedural-textures",["babylonjs"],r):"object"==typeof exports?exports["babylonjs-procedural-textures"]=r(require("babylonjs")):o.PROCEDURALTEXTURES=r(o.BABYLON)}("undefined"!=typeof self?self:"undefined"!=typeof global?global:this,(o=>(()=>{"use strict";var r={520:r=>{r.exports=o}},e={};function t(o){var n=e[o];if(void 0!==n)return n.exports;var i=e[o]={exports:{}};return r[o](i,i.exports,t),i.exports}t.d=(o,r)=>{for(var e in r)t.o(r,e)&&!t.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:r[e]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"==typeof window)return window}}(),t.o=(o,r)=>Object.prototype.hasOwnProperty.call(o,r),t.r=o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var n={};return(()=>{var o={};t.r(o),t.d(o,{GrassProceduralTexture:()=>n});var r=function(o,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,r){o.__proto__=r}||function(o,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(o[e]=r[e])},r(o,e)};Object.create,Object.create;var e=t(520);e.ShaderStore.ShadersStore.grassProceduralTexturePixelShader="precision highp float;varying vec2 vPosition;varying vec2 vUV;uniform vec3 herb1Color;uniform vec3 herb2Color;uniform vec3 herb3Color;uniform vec3 groundColor;float rand(vec2 n) {return fract(cos(dot(n,vec2(12.9898,4.1414)))*43758.5453);}\nfloat noise(vec2 n) {const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}\nfloat fbm(vec2 n) {float total=0.0,amplitude=1.0;for (int i=0; i<4; i++) {total+=noise(n)*amplitude;n+=n;amplitude*=0.5;}\nreturn total;}\n#define CUSTOM_FRAGMENT_DEFINITIONS\nvoid main(void) {\n#define CUSTOM_FRAGMENT_MAIN_BEGIN\nvec3 color=mix(groundColor,herb1Color,rand(gl_FragCoord.xy*4.0));color=mix(color,herb2Color,rand(gl_FragCoord.xy*8.0));color=mix(color,herb3Color,rand(gl_FragCoord.xy));color=mix(color,herb1Color,fbm(gl_FragCoord.xy*16.0));gl_FragColor=vec4(color,1.0);\n#define CUSTOM_FRAGMENT_MAIN_END\n}";var n=function(o){function t(r,t,n,i,l){void 0===n&&(n=null);var s=o.call(this,r,t,"grassProceduralTexture",n,i,l)||this;return s._groundColor=new e.Color3(1,1,1),s._grassColors=[new e.Color3(.29,.38,.02),new e.Color3(.36,.49,.09),new e.Color3(.51,.6,.28)],s.updateShaderUniforms(),s}return function(o,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=o}r(o,e),o.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(t,o),t.prototype.updateShaderUniforms=function(){this.setColor3("herb1Color",this._grassColors[0]),this.setColor3("herb2Color",this._grassColors[1]),this.setColor3("herb3Color",this._grassColors[2]),this.setColor3("groundColor",this._groundColor)},Object.defineProperty(t.prototype,"grassColors",{get:function(){return this._grassColors},set:function(o){this._grassColors=o,this.updateShaderUniforms()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"groundColor",{get:function(){return this._groundColor},set:function(o){this._groundColor=o,this.updateShaderUniforms()},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){var r=e.SerializationHelper.Serialize(this,o.prototype.serialize.call(this));r.customType="BABYLON.GrassProceduralTexture",r.grassColors=[];for(var t=0;t<this._grassColors.length;t++)r.grassColors.push(this._grassColors[t].asArray());return r},t.Parse=function(o,r,n){for(var i=e.SerializationHelper.Parse((function(){return new t(o.name,o._size,r,void 0,o._generateMipMaps)}),o,r,n),l=[],s=0;s<o.grassColors.length;s++)l.push(e.Color3.FromArray(o.grassColors[s]));return i.grassColors=l,i},function(o,r,e,t){var n,i=arguments.length,l=i<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,r,e,t);else for(var s=o.length-1;s>=0;s--)(n=o[s])&&(l=(i<3?n(l):i>3?n(r,e,l):n(r,e))||l);i>3&&l&&Object.defineProperty(r,e,l)}([(0,e.serializeAsColor3)()],t.prototype,"groundColor",null),t}(e.ProceduralTexture);(0,e.RegisterClass)("BABYLON.GrassProceduralTexture",n);const i=void 0!==t.g?t.g:"undefined"!=typeof window?window:void 0;if(void 0!==i)for(const r in o)i.BABYLON[r]=o[r]})(),n.default})()));
//# sourceMappingURL=babylon.grassProceduralTexture.min.js.map