import{b5 as g,b8 as C,bm as O,bn as R,bh as p,av as L,bo as x,ar as _,bp as b,bq as I,bl as P,br as T,au as E,bc as F,bs as S,bk as Y,bt as X,g as D,bu as G,bv as $,bw as j,bx as N,by as M,aw as U,bz as k,bA as z,bB as B,bb as m,bC as Z,bD as q}from"./ol.bb58850a.js";import{l as H,L as w,i as J}from"./LineString.191ddcd6.js";var K=globalThis&&globalThis.__extends||function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Q=function(l){K(r,l);function r(t,e,s){var i=l.call(this)||this;if(i.ends_=[],i.maxDelta_=-1,i.maxDeltaRevision_=-1,Array.isArray(t[0]))i.setCoordinates(t,e);else if(e!==void 0&&s)i.setFlatCoordinates(e,t),i.ends_=s;else{for(var n=i.getLayout(),o=t,a=[],h=[],f=0,d=o.length;f<d;++f){var u=o[f];f===0&&(n=u.getLayout()),g(a,u.getFlatCoordinates()),h.push(a.length)}i.setFlatCoordinates(n,a),i.ends_=h}return i}return r.prototype.appendLineString=function(t){this.flatCoordinates?g(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,s,i){return i<C(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(O(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),R(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,s,i))},r.prototype.getCoordinateAtM=function(t,e,s){if(this.layout!=p.XYM&&this.layout!=p.XYZM||this.flatCoordinates.length===0)return null;var i=e!==void 0?e:!1,n=s!==void 0?s:!1;return H(this.flatCoordinates,0,this.ends_,this.stride,t,i,n)},r.prototype.getCoordinates=function(){return L(this.flatCoordinates,0,this.ends_,this.stride)},r.prototype.getEnds=function(){return this.ends_},r.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new w(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)},r.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,s=this.layout,i=[],n=0,o=0,a=e.length;o<a;++o){var h=e[o],f=new w(t.slice(n,h),s);i.push(f),n=h}return i},r.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,s=0,i=this.ends_,n=this.stride,o=0,a=i.length;o<a;++o){var h=i[o],f=J(e,s,h,n,.5);g(t,f),s=h}return t},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],s=[];return e.length=x(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,s),new r(e,p.XY,s)},r.prototype.getType=function(){return _.MULTI_LINE_STRING},r.prototype.intersectsExtent=function(t){return b(this.flatCoordinates,0,this.ends_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var s=I(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=s.length===0?0:s[s.length-1],this.changed()},r}(P),ot=Q,V=globalThis&&globalThis.__extends||function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),W=function(l){V(r,l);function r(t,e){var s=l.call(this)||this;return e&&!Array.isArray(t[0])?s.setFlatCoordinates(e,t):s.setCoordinates(t,e),s}return r.prototype.appendPoint=function(t){this.flatCoordinates?g(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},r.prototype.clone=function(){var t=new r(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},r.prototype.closestPointXY=function(t,e,s,i){if(i<C(this.getExtent(),t,e))return i;for(var n=this.flatCoordinates,o=this.stride,a=0,h=n.length;a<h;a+=o){var f=T(t,e,n[a],n[a+1]);if(f<i){i=f;for(var d=0;d<o;++d)s[d]=n[a+d];s.length=o}}return i},r.prototype.getCoordinates=function(){return E(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},r.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new F(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},r.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,s=this.stride,i=[],n=0,o=t.length;n<o;n+=s){var a=new F(t.slice(n,n+s),e);i.push(a)}return i},r.prototype.getType=function(){return _.MULTI_POINT},r.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,s=this.stride,i=0,n=e.length;i<n;i+=s){var o=e[i],a=e[i+1];if(S(t,o,a))return!0}return!1},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Y(this.flatCoordinates,0,t,this.stride),this.changed()},r}(P),tt=W;function et(l,r,t,e){for(var s=[],i=D(),n=0,o=t.length;n<o;++n){var a=t[n];i=X(l,r,a[0],e),s.push((i[0]+i[2])/2,(i[1]+i[3])/2),r=a[a.length-1]}return s}var it=globalThis&&globalThis.__extends||function(){var l=function(r,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,s){e.__proto__=s}||function(e,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])},l(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");l(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),st=function(l){it(r,l);function r(t,e,s){var i=l.call(this)||this;if(i.endss_=[],i.flatInteriorPointsRevision_=-1,i.flatInteriorPoints_=null,i.maxDelta_=-1,i.maxDeltaRevision_=-1,i.orientedRevision_=-1,i.orientedFlatCoordinates_=null,!s&&!Array.isArray(t[0])){for(var n=i.getLayout(),o=t,a=[],h=[],f=0,d=o.length;f<d;++f){var u=o[f];f===0&&(n=u.getLayout());for(var v=a.length,c=u.getEnds(),y=0,A=c.length;y<A;++y)c[y]+=v;g(a,u.getFlatCoordinates()),h.push(c)}e=n,t=a,s=h}return e!==void 0&&s?(i.setFlatCoordinates(e,t),i.endss_=s):i.setCoordinates(t,e),i}return r.prototype.appendPolygon=function(t){var e;if(!this.flatCoordinates)this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();else{var s=this.flatCoordinates.length;g(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(var i=0,n=e.length;i<n;++i)e[i]+=s}this.endss_.push(e),this.changed()},r.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),s=0;s<t;++s)e[s]=this.endss_[s].slice();var i=new r(this.flatCoordinates.slice(),this.layout,e);return i.applyProperties(this),i},r.prototype.closestPointXY=function(t,e,s,i){return i<C(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(G(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),$(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,s,i))},r.prototype.containsXY=function(t,e){return j(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},r.prototype.getArea=function(){return N(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},r.prototype.getCoordinates=function(t){var e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),M(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,U(e,0,this.endss_,this.stride)},r.prototype.getEndss=function(){return this.endss_},r.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=et(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=k(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},r.prototype.getInteriorPoints=function(){return new tt(this.getFlatInteriorPoints().slice(),p.XYM)},r.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;z(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=M(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},r.prototype.getSimplifiedGeometryInternal=function(t){var e=[],s=[];return e.length=B(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,s),new r(e,p.XY,s)},r.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(t===0)e=0;else{var s=this.endss_[t-1];e=s[s.length-1]}var i=this.endss_[t].slice(),n=i[i.length-1];if(e!==0)for(var o=0,a=i.length;o<a;++o)i[o]-=e;return new m(this.flatCoordinates.slice(e,n),this.layout,i)},r.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,s=this.endss_,i=[],n=0,o=0,a=s.length;o<a;++o){var h=s[o].slice(),f=h[h.length-1];if(n!==0)for(var d=0,u=h.length;d<u;++d)h[d]-=n;var v=new m(e.slice(n,f),t,h);i.push(v),n=f}return i},r.prototype.getType=function(){return _.MULTI_POLYGON},r.prototype.intersectsExtent=function(t){return Z(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},r.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var s=q(this.flatCoordinates,0,t,this.stride,this.endss_);if(s.length===0)this.flatCoordinates.length=0;else{var i=s[s.length-1];this.flatCoordinates.length=i.length===0?0:i[i.length-1]}this.changed()},r}(P),at=st;export{at as M,ot as a,tt as b};
