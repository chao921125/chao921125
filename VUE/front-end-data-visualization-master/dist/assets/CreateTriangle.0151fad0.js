import{A as _,b as y,C,r as f,o as x,e as k,a as u,u as T,S as M,w as P,f as B}from"./vendor.b99b632f.js";import{f as d}from"./fabric.49791ffe.js";const S=B("canvas",{id:"canvas",width:"600",height:"600",style:{border:"1px solid #ccc"}},null,-1),J={setup(V){const p=_();let e=null,t=null,c=null,n=null,l=y("default");function g(o){switch(o){case"default":e.selection=!0,e.selectionColor="rgba(100, 100, 255, 0.3)",e.selectionBorderColor="rgba(255, 255, 255, 0.3)",e.skipTargetFind=!1;break;case"triangle":e.selectionColor="transparent",e.selectionBorderColor="transparent",e.skipTargetFind=!0;break}}function b(){e=new d.fabric.Canvas("canvas"),e.on("mouse:down",m),e.on("mouse:move",v),e.on("mouse:up",h)}function m(o){t=o.absolutePointer,l.value==="triangle"&&(n=new d.fabric.Triangle({top:t.y,left:t.x,width:0,height:0,fill:"transparent",stroke:"rgba(0, 0, 0, 0.2)"}),e.add(n))}function v(o){if(l.value==="triangle"&&n){const a=o.absolutePointer;let s=Math.abs(t.x-a.x),i=Math.abs(t.y-a.y),r=a.y>t.y?t.y:a.y,w=a.x>t.x?t.x:a.x;n.set("width",s),n.set("height",i),n.set("top",r),n.set("left",w),e.requestRenderAll()}}function h(o){c=o.absolutePointer,l.value==="triangle"&&(JSON.stringify(t)===JSON.stringify(c)?e.remove(n):n.set("stroke","#000"),n=null)}return C(()=>{p.commit("setComponentPath","src/views/FabricJS/Demo/pages/CreateTriangle/CreateTriangle.vue"),b()}),(o,a)=>{const s=f("el-option"),i=f("el-select");return x(),k("div",null,[u(i,{modelValue:T(l),"onUpdate:modelValue":a[0]||(a[0]=r=>M(l)?l.value=r:l=r),onChange:g},{default:P(()=>[u(s,{label:"\u9ED8\u8BA4(\u6846\u9009)",value:"default"}),u(s,{label:"\u4E09\u89D2\u5F62",value:"triangle"})]),_:1},8,["modelValue"]),S])}}};export{J as default};
