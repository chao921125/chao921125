import{A as g,b as w,C as y,r as c,o as h,e as k,a as l,u as x,S as P,w as B,f as M}from"./vendor.b99b632f.js";import{f}from"./fabric.49791ffe.js";const S=M("canvas",{id:"canvas",width:"600",height:"600",style:{border:"1px solid #ccc"}},null,-1),T={setup(V){const d=g();let e=null,a=null,r=null,n=null,t=w("default");function p(o){switch(o){case"default":e.selection=!0,e.selectionColor="rgba(100, 100, 255, 0.3)",e.selectionBorderColor="rgba(255, 255, 255, 0.3)",e.skipTargetFind=!1;break;case"line":e.selectionColor="transparent",e.selectionBorderColor="transparent",e.skipTargetFind=!0;break}}function m(){e=new f.fabric.Canvas("canvas"),e.on("mouse:down",v),e.on("mouse:move",b),e.on("mouse:up",_)}function v(o){a=o.absolutePointer,t.value==="line"&&(n=new f.fabric.Line([a.x,a.y,a.x,a.y],{stroke:"rgba(0, 0, 0, 0.2)"}),e.add(n))}function b(o){if(t.value==="line"&&n){const s=o.absolutePointer;n.set("x2",s.x),n.set("y2",s.y),e.requestRenderAll()}}function _(o){r=o.absolutePointer,t.value==="line"&&(JSON.stringify(a)===JSON.stringify(r)?e.remove(n):n.set("stroke","#000"),n=null)}return y(()=>{d.commit("setComponentPath","src/views/FabricJS/Demo/pages/CreateLine/CreateLine.vue"),m()}),(o,s)=>{const i=c("el-option"),C=c("el-select");return h(),k("div",null,[l(C,{modelValue:x(t),"onUpdate:modelValue":s[0]||(s[0]=u=>P(t)?t.value=u:t=u),onChange:p},{default:B(()=>[l(i,{label:"\u9ED8\u8BA4(\u6846\u9009)",value:"default"}),l(i,{label:"\u7EBF\u6BB5",value:"line"})]),_:1},8,["modelValue"]),S])}}};export{T as default};
