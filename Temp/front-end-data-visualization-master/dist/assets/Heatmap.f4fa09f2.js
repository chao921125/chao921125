import{b as x,A as q,C as Z,o as $,e as K,f as m,J as O,K as N,F as J,s as Q,v as ee}from"./vendor.b99b632f.js";import{G as te}from"./GeoJSON.bd168292.js";import{d as M,aM as v,j as T,bP as C,bQ as re,bR as oe,k as ie,bS as ne,bT as ae,bU as se,bM as z,bV as ue,aB as pe,g as ce,m as fe,Q as R,aY as X,q as le,aD as he,bJ as de,ar as ye,p as j,R as _e,f as ge,S as me,c as ve,M as Te,V as Ee}from"./ol.bb58850a.js";import{_ as xe}from"./index.8bb5b140.js";import{V as F,B as Re,L as Fe,S as Pe}from"./Vector.c1a6c122.js";import{T as be}from"./TileImage.0ebee0ae.js";import{X as Ae}from"./XYZ.0d304f3a.js";import{A as Le}from"./OSM.7622e957.js";import"./LineString.191ddcd6.js";import"./MultiPolygon.abfd4d82.js";var P=34962,D=34963,Se=35040,Ce=35044,b=35048,De=5121,we=5123,Ie=5125,W=5126,H=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function Ue(n,o){for(var e=H.length,t=0;t<e;++t)try{var r=n.getContext(H[t],o);if(r)return r}catch{}return null}var Be={STATIC_DRAW:Ce,STREAM_DRAW:Se,DYNAMIC_DRAW:b},Ge=function(){function n(o,e){this.array=null,this.type=o,M(o===P||o===D,62),this.usage=e!==void 0?e:Be.STATIC_DRAW}return n.prototype.ofSize=function(o){this.array=new(w(this.type))(o)},n.prototype.fromArray=function(o){var e=w(this.type);this.array=e.from?e.from(o):new e(o)},n.prototype.fromArrayBuffer=function(o){this.array=new(w(this.type))(o)},n.prototype.getType=function(){return this.type},n.prototype.getArray=function(){return this.array},n.prototype.getUsage=function(){return this.usage},n.prototype.getSize=function(){return this.array?this.array.length:0},n}();function w(n){switch(n){case P:return Float32Array;case D:return Uint32Array;default:return Float32Array}}var I=Ge,A={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},Oe=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,Ne=`
  precision mediump float;
   
  uniform sampler2D u_image;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord);
  }
`,Me=function(){function n(o){this.gl_=o.webGlContext;var e=this.gl_;this.scaleRatio_=o.scaleRatio||1,this.renderTargetTexture_=e.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=e.createFramebuffer();var t=e.createShader(e.VERTEX_SHADER);e.shaderSource(t,o.vertexShader||Oe),e.compileShader(t);var r=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(r,o.fragmentShader||Ne),e.compileShader(r),this.renderTargetProgram_=e.createProgram(),e.attachShader(this.renderTargetProgram_,t),e.attachShader(this.renderTargetProgram_,r),e.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=e.createBuffer();var i=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];e.bindBuffer(e.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),e.bufferData(e.ARRAY_BUFFER,new Float32Array(i),e.STATIC_DRAW),this.renderTargetAttribLocation_=e.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetTextureLocation_=e.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],o.uniforms&&Object.keys(o.uniforms).forEach(function(a){this.uniforms_.push({value:o.uniforms[a],location:e.getUniformLocation(this.renderTargetProgram_,a)})}.bind(this))}return n.prototype.getGL=function(){return this.gl_},n.prototype.init=function(o){var e=this.getGL(),t=[e.drawingBufferWidth*this.scaleRatio_,e.drawingBufferHeight*this.scaleRatio_];if(e.bindFramebuffer(e.FRAMEBUFFER,this.getFrameBuffer()),e.viewport(0,0,t[0],t[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==t[0]||this.renderTargetTextureSize_[1]!==t[1]){this.renderTargetTextureSize_=t;var r=0,i=e.RGBA,a=0,s=e.RGBA,u=e.UNSIGNED_BYTE,f=null;e.bindTexture(e.TEXTURE_2D,this.renderTargetTexture_),e.texImage2D(e.TEXTURE_2D,r,i,t[0],t[1],a,s,u,f),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.renderTargetTexture_,0)}},n.prototype.apply=function(o,e){var t=this.getGL(),r=o.size;t.bindFramebuffer(t.FRAMEBUFFER,e?e.getFrameBuffer():null),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.renderTargetTexture_),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.viewport(0,0,t.drawingBufferWidth,t.drawingBufferHeight),t.bindBuffer(t.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),t.useProgram(this.renderTargetProgram_),t.enableVertexAttribArray(this.renderTargetAttribLocation_),t.vertexAttribPointer(this.renderTargetAttribLocation_,2,t.FLOAT,!1,0,0),t.uniform2f(this.renderTargetUniformLocation_,r[0],r[1]),t.uniform1i(this.renderTargetTextureLocation_,0),this.applyUniforms(o),t.drawArrays(t.TRIANGLES,0,6)},n.prototype.getFrameBuffer=function(){return this.frameBuffer_},n.prototype.applyUniforms=function(o){var e=this.getGL(),t,r=1;this.uniforms_.forEach(function(i){if(t=typeof i.value=="function"?i.value(o):i.value,t instanceof HTMLCanvasElement||t instanceof ImageData)i.texture||(i.texture=e.createTexture()),e.activeTexture(e["TEXTURE"+r]),e.bindTexture(e.TEXTURE_2D,i.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t instanceof ImageData?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,t.width,t.height,0,e.UNSIGNED_BYTE,new Uint8Array(t.data)):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.uniform1i(i.location,r++);else if(Array.isArray(t))switch(t.length){case 2:e.uniform2f(i.location,t[0],t[1]);return;case 3:e.uniform3f(i.location,t[0],t[1],t[2]);return;case 4:e.uniform4f(i.location,t[0],t[1],t[2],t[3]);return;default:return}else typeof t=="number"&&e.uniform1f(i.location,t)})},n}(),V=Me;function ze(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function U(n,o){return n[0]=o[0],n[1]=o[1],n[4]=o[2],n[5]=o[3],n[12]=o[4],n[13]=o[5],n}var Xe=globalThis&&globalThis.__extends||function(){var n=function(o,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},n(o,e)};return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),E={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution"},h={UNSIGNED_BYTE:De,UNSIGNED_SHORT:we,UNSIGNED_INT:Ie,FLOAT:W},je=function(n){Xe(o,n);function o(e){var t=n.call(this)||this,r=e||{};t.boundHandleWebGLContextLost_=t.handleWebGLContextLost.bind(t),t.boundHandleWebGLContextRestored_=t.handleWebGLContextRestored.bind(t),t.canvas_=document.createElement("canvas"),t.canvas_.style.position="absolute",t.canvas_.style.left="0",t.gl_=Ue(t.canvas_);var i=t.getGL();if(t.bufferCache_={},t.extensionCache_={},t.currentProgram_=null,t.canvas_.addEventListener(A.LOST,t.boundHandleWebGLContextLost_),t.canvas_.addEventListener(A.RESTORED,t.boundHandleWebGLContextRestored_),t.offsetRotateMatrix_=v(),t.offsetScaleMatrix_=v(),t.tmpMat4_=ze(),t.uniformLocations_={},t.attribLocations_={},t.uniforms_=[],r.uniforms)for(var a in r.uniforms)t.uniforms_.push({name:a,value:r.uniforms[a]});return t.postProcessPasses_=r.postProcesses?r.postProcesses.map(function(s){return new V({webGlContext:i,scaleRatio:s.scaleRatio,vertexShader:s.vertexShader,fragmentShader:s.fragmentShader,uniforms:s.uniforms})}):[new V({webGlContext:i})],t.shaderCompileErrors_=null,t.startTime_=Date.now(),t}return o.prototype.getExtension=function(e){if(e in this.extensionCache_)return this.extensionCache_[e];var t=this.gl_.getExtension(e);return this.extensionCache_[e]=t,t},o.prototype.bindBuffer=function(e){var t=this.getGL(),r=T(e),i=this.bufferCache_[r];if(!i){var a=t.createBuffer();i={buffer:e,webGlBuffer:a},this.bufferCache_[r]=i}t.bindBuffer(e.getType(),i.webGlBuffer)},o.prototype.flushBufferData=function(e){var t=this.getGL();this.bindBuffer(e),t.bufferData(e.getType(),e.getArray(),e.getUsage())},o.prototype.deleteBuffer=function(e){var t=this.getGL(),r=T(e),i=this.bufferCache_[r];i&&!t.isContextLost()&&t.deleteBuffer(i.webGlBuffer),delete this.bufferCache_[r]},o.prototype.disposeInternal=function(){this.canvas_.removeEventListener(A.LOST,this.boundHandleWebGLContextLost_),this.canvas_.removeEventListener(A.RESTORED,this.boundHandleWebGLContextRestored_);var e=this.gl_.getExtension("WEBGL_lose_context");e&&e.loseContext(),delete this.gl_,delete this.canvas_},o.prototype.prepareDraw=function(e,t){var r=this.getGL(),i=this.getCanvas(),a=e.size,s=e.pixelRatio;i.width=a[0]*s,i.height=a[1]*s,i.style.width=a[0]+"px",i.style.height=a[1]+"px",r.useProgram(this.currentProgram_);for(var u=this.postProcessPasses_.length-1;u>=0;u--)this.postProcessPasses_[u].init(e);r.bindTexture(r.TEXTURE_2D,null),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.enable(r.BLEND),r.blendFunc(r.ONE,t?r.ZERO:r.ONE_MINUS_SRC_ALPHA),r.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},o.prototype.prepareDrawToRenderTarget=function(e,t,r){var i=this.getGL(),a=t.getSize();i.bindFramebuffer(i.FRAMEBUFFER,t.getFramebuffer()),i.viewport(0,0,a[0],a[1]),i.bindTexture(i.TEXTURE_2D,t.getTexture()),i.clearColor(0,0,0,0),i.clear(i.COLOR_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,r?i.ZERO:i.ONE_MINUS_SRC_ALPHA),i.useProgram(this.currentProgram_),this.applyFrameState(e),this.applyUniforms(e)},o.prototype.drawElements=function(e,t){var r=this.getGL();this.getExtension("OES_element_index_uint");var i=r.UNSIGNED_INT,a=4,s=t-e,u=e*a;r.drawElements(r.TRIANGLES,s,i,u)},o.prototype.finalizeDraw=function(e){for(var t=0;t<this.postProcessPasses_.length;t++)this.postProcessPasses_[t].apply(e,this.postProcessPasses_[t+1]||null)},o.prototype.getCanvas=function(){return this.canvas_},o.prototype.getGL=function(){return this.gl_},o.prototype.applyFrameState=function(e){var t=e.size,r=e.viewState.rotation,i=C(this.offsetScaleMatrix_);re(i,2/t[0],2/t[1]);var a=C(this.offsetRotateMatrix_);r!==0&&oe(a,-r),this.setUniformMatrixValue(E.OFFSET_SCALE_MATRIX,U(this.tmpMat4_,i)),this.setUniformMatrixValue(E.OFFSET_ROTATION_MATRIX,U(this.tmpMat4_,a)),this.setUniformFloatValue(E.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(E.ZOOM,e.viewState.zoom),this.setUniformFloatValue(E.RESOLUTION,e.viewState.resolution)},o.prototype.applyUniforms=function(e){var t=this.getGL(),r,i=0;this.uniforms_.forEach(function(a){if(r=typeof a.value=="function"?a.value(e):a.value,r instanceof HTMLCanvasElement||r instanceof HTMLImageElement||r instanceof ImageData){a.texture||(a.prevValue=void 0,a.texture=t.createTexture()),t.activeTexture(t["TEXTURE"+i]),t.bindTexture(t.TEXTURE_2D,a.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);var s=!(r instanceof HTMLImageElement)||r.complete;s&&a.prevValue!==r&&(a.prevValue=r,t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r)),t.uniform1i(this.getUniformLocation(a.name),i++)}else if(Array.isArray(r)&&r.length===6)this.setUniformMatrixValue(a.name,U(this.tmpMat4_,r));else if(Array.isArray(r)&&r.length<=4)switch(r.length){case 2:t.uniform2f(this.getUniformLocation(a.name),r[0],r[1]);return;case 3:t.uniform3f(this.getUniformLocation(a.name),r[0],r[1],r[2]);return;case 4:t.uniform4f(this.getUniformLocation(a.name),r[0],r[1],r[2],r[3]);return;default:return}else typeof r=="number"&&t.uniform1f(this.getUniformLocation(a.name),r)}.bind(this))},o.prototype.useProgram=function(e){if(e==this.currentProgram_)return!1;var t=this.getGL();return t.useProgram(e),this.currentProgram_=e,this.uniformLocations_={},this.attribLocations_={},!0},o.prototype.compileShader=function(e,t){var r=this.getGL(),i=r.createShader(t);return r.shaderSource(i,e),r.compileShader(i),i},o.prototype.getProgram=function(e,t){var r=this.getGL(),i=this.compileShader(e,r.FRAGMENT_SHADER),a=this.compileShader(t,r.VERTEX_SHADER),s=r.createProgram();if(r.attachShader(s,i),r.attachShader(s,a),r.linkProgram(s),!r.getShaderParameter(i,r.COMPILE_STATUS)){var u="Fragment shader compliation failed: "+r.getShaderInfoLog(i);throw new Error(u)}if(r.deleteShader(i),!r.getShaderParameter(a,r.COMPILE_STATUS)){var u="Vertex shader compilation failed: "+r.getShaderInfoLog(a);throw new Error(u)}if(r.deleteShader(a),!r.getProgramParameter(s,r.LINK_STATUS)){var u="GL program linking failed: "+r.getShaderInfoLog(a);throw new Error(u)}return s},o.prototype.getUniformLocation=function(e){return this.uniformLocations_[e]===void 0&&(this.uniformLocations_[e]=this.getGL().getUniformLocation(this.currentProgram_,e)),this.uniformLocations_[e]},o.prototype.getAttributeLocation=function(e){return this.attribLocations_[e]===void 0&&(this.attribLocations_[e]=this.getGL().getAttribLocation(this.currentProgram_,e)),this.attribLocations_[e]},o.prototype.makeProjectionTransform=function(e,t){var r=e.size,i=e.viewState.rotation,a=e.viewState.resolution,s=e.viewState.center;return C(t),ie(t,0,0,2/(a*r[0]),2/(a*r[1]),-i,-s[0],-s[1]),t},o.prototype.setUniformFloatValue=function(e,t){this.getGL().uniform1f(this.getUniformLocation(e),t)},o.prototype.setUniformMatrixValue=function(e,t){this.getGL().uniformMatrix4fv(this.getUniformLocation(e),!1,t)},o.prototype.enableAttributeArray_=function(e,t,r,i,a){var s=this.getAttributeLocation(e);s<0||(this.getGL().enableVertexAttribArray(s),this.getGL().vertexAttribPointer(s,t,r,!1,i,a))},o.prototype.enableAttributes=function(e){for(var t=We(e),r=0,i=0;i<e.length;i++){var a=e[i];this.enableAttributeArray_(a.name,a.size,a.type||W,t,r),r+=a.size*Y(a.type)}},o.prototype.handleWebGLContextLost=function(){ne(this.bufferCache_),this.currentProgram_=null},o.prototype.handleWebGLContextRestored=function(){},o.prototype.createTexture=function(e,t,r){var i=this.getGL(),a=r||i.createTexture(),s=0,u=i.RGBA,f=0,c=i.RGBA,p=i.UNSIGNED_BYTE;return i.bindTexture(i.TEXTURE_2D,a),t?i.texImage2D(i.TEXTURE_2D,s,u,c,p,t):i.texImage2D(i.TEXTURE_2D,s,u,e[0],e[1],f,c,p,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),a},o}(ae);function We(n){for(var o=0,e=0;e<n.length;e++){var t=n[e];o+=t.size*Y(t.type)}return o}function Y(n){switch(n){case h.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case h.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case h.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case h.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}var He=globalThis&&globalThis.__extends||function(){var n=function(o,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},n(o,e)};return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),B={GENERATE_BUFFERS:"GENERATE_BUFFERS"},Ve=function(n){He(o,n);function o(e,t){var r=n.call(this,e)||this,i=t||{};return r.helper=new je({postProcesses:i.postProcesses,uniforms:i.uniforms}),i.className!==void 0&&(r.helper.getCanvas().className=i.className),r}return o.prototype.disposeInternal=function(){this.helper.dispose(),delete this.helper,n.prototype.disposeInternal.call(this)},o.prototype.dispatchRenderEvent_=function(e,t){var r=this.getLayer();if(r.hasListener(e)){var i=new se(e,null,t,null);r.dispatchEvent(i)}},o.prototype.preRender=function(e){this.dispatchRenderEvent_(z.PRERENDER,e)},o.prototype.postRender=function(e){this.dispatchRenderEvent_(z.POSTRENDER,e)},o}(ue);function Ye(n,o){var e=o||[],t=256,r=t-1;return e[0]=Math.floor(n/t/t/t)/r,e[1]=Math.floor(n/t/t)%t/r,e[2]=Math.floor(n/t)%t/r,e[3]=n%t/r,e}function ke(n){var o=0,e=256,t=e-1;return o+=Math.round(n[0]*e*e*e*t),o+=Math.round(n[1]*e*e*t),o+=Math.round(n[2]*e*t),o+=Math.round(n[3]*t),o}var qe=Ve,y=new Uint8Array(4),Ze=function(){function n(o,e){this.helper_=o;var t=o.getGL();this.texture_=t.createTexture(),this.framebuffer_=t.createFramebuffer(),this.size_=e||[1,1],this.data_=new Uint8Array(0),this.dataCacheDirty_=!0,this.updateSize_()}return n.prototype.setSize=function(o){pe(o,this.size_)||(this.size_[0]=o[0],this.size_[1]=o[1],this.updateSize_())},n.prototype.getSize=function(){return this.size_},n.prototype.clearCachedData=function(){this.dataCacheDirty_=!0},n.prototype.readAll=function(){if(this.dataCacheDirty_){var o=this.size_,e=this.helper_.getGL();e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.readPixels(0,0,o[0],o[1],e.RGBA,e.UNSIGNED_BYTE,this.data_),this.dataCacheDirty_=!1}return this.data_},n.prototype.readPixel=function(o,e){if(o<0||e<0||o>this.size_[0]||e>=this.size_[1])return y[0]=0,y[1]=0,y[2]=0,y[3]=0,y;this.readAll();var t=Math.floor(o)+(this.size_[1]-Math.floor(e)-1)*this.size_[0];return y[0]=this.data_[t*4],y[1]=this.data_[t*4+1],y[2]=this.data_[t*4+2],y[3]=this.data_[t*4+3],y},n.prototype.getTexture=function(){return this.texture_},n.prototype.getFramebuffer=function(){return this.framebuffer_},n.prototype.updateSize_=function(){var o=this.size_,e=this.helper_.getGL();this.texture_=this.helper_.createTexture(o,null,this.texture_),e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer_),e.viewport(0,0,o[0],o[1]),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture_,0),this.data_=new Uint8Array(o[0]*o[1]*4)},n}(),$e=Ze,Ke='var e="function"==typeof Object.assign?Object.assign:function(e,n){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(null!=i)for(var f in i)i.hasOwnProperty(f)&&(t[f]=i[f])}return t},n="GENERATE_BUFFERS",t=[],r={vertexPosition:0,indexPosition:0};function o(e,n,t,r,o){e[n+0]=t,e[n+1]=r,e[n+2]=o}function i(e,n,i,f,s,u){var a=3+s,l=e[n+0],v=e[n+1],c=t;c.length=s;for(var g=0;g<c.length;g++)c[g]=e[n+2+g];var b=u?u.vertexPosition:0,h=u?u.indexPosition:0,d=b/a;return o(i,b,l,v,0),c.length&&i.set(c,b+3),o(i,b+=a,l,v,1),c.length&&i.set(c,b+3),o(i,b+=a,l,v,2),c.length&&i.set(c,b+3),o(i,b+=a,l,v,3),c.length&&i.set(c,b+3),b+=a,f[h++]=d,f[h++]=d+1,f[h++]=d+3,f[h++]=d+1,f[h++]=d+2,f[h++]=d+3,r.vertexPosition=b,r.indexPosition=h,r}var f=self;f.onmessage=function(t){var r=t.data;if(r.type===n){for(var o=r.customAttributesCount,s=2+o,u=new Float32Array(r.renderInstructions),a=u.length/s,l=4*a*(o+3),v=new Uint32Array(6*a),c=new Float32Array(l),g=null,b=0;b<u.length;b+=s)g=i(u,b,c,v,o,g);var h=e({vertexBuffer:c.buffer,indexBuffer:v.buffer,renderInstructions:u.buffer},r);f.postMessage(h,[c.buffer,v.buffer,u.buffer])}};',Je=new Blob([Ke],{type:"application/javascript"}),Qe=URL.createObjectURL(Je);function et(){return new Worker(Qe)}var tt=globalThis&&globalThis.__extends||function(){var n=function(o,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},n(o,e)};return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),rt=function(n){tt(o,n);function o(e,t){var r=this,i=t.uniforms||{},a=v();i[E.PROJECTION_MATRIX]=a,r=n.call(this,e,{className:t.className,uniforms:i,postProcesses:t.postProcesses})||this,r.sourceRevision_=-1,r.verticesBuffer_=new I(P,b),r.hitVerticesBuffer_=new I(P,b),r.indicesBuffer_=new I(D,b),r.program_=r.helper.getProgram(t.fragmentShader,t.vertexShader),r.hitDetectionEnabled_=!!(t.hitFragmentShader&&t.hitVertexShader),r.hitProgram_=r.hitDetectionEnabled_&&r.helper.getProgram(t.hitFragmentShader,t.hitVertexShader);var s=t.attributes?t.attributes.map(function(f){return{name:"a_"+f.name,size:1,type:h.FLOAT}}):[];r.attributes=[{name:"a_position",size:2,type:h.FLOAT},{name:"a_index",size:1,type:h.FLOAT}].concat(s),r.hitDetectionAttributes=[{name:"a_position",size:2,type:h.FLOAT},{name:"a_index",size:1,type:h.FLOAT},{name:"a_hitColor",size:4,type:h.FLOAT},{name:"a_featureUid",size:1,type:h.FLOAT}].concat(s),r.customAttributes=t.attributes?t.attributes:[],r.previousExtent_=ce(),r.currentTransform_=a,r.renderTransform_=v(),r.invertRenderTransform_=v(),r.renderInstructions_=new Float32Array(0),r.hitRenderInstructions_=new Float32Array(0),r.hitRenderTarget_=r.hitDetectionEnabled_&&new $e(r.helper),r.worker_=et(),r.worker_.addEventListener("message",function(f){var c=f.data;if(c.type===B.GENERATE_BUFFERS){var p=c.projectionTransform;c.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(c.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(c.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_)),this.indicesBuffer_.fromArrayBuffer(c.indexBuffer),this.helper.flushBufferData(this.indicesBuffer_),this.renderTransform_=p,fe(this.invertRenderTransform_,this.renderTransform_),c.hitDetection?this.hitRenderInstructions_=new Float32Array(f.data.renderInstructions):this.renderInstructions_=new Float32Array(f.data.renderInstructions),this.getLayer().changed()}}.bind(r)),r.featureCache_={},r.featureCount_=0;var u=r.getLayer().getSource();return r.sourceListenKeys_=[R(u,F.ADDFEATURE,r.handleSourceFeatureAdded_,r),R(u,F.CHANGEFEATURE,r.handleSourceFeatureChanged_,r),R(u,F.REMOVEFEATURE,r.handleSourceFeatureDelete_,r),R(u,F.CLEAR,r.handleSourceFeatureClear_,r)],u.forEachFeature(function(f){this.featureCache_[T(f)]={feature:f,properties:f.getProperties(),geometry:f.getGeometry()},this.featureCount_++}.bind(r)),r}return o.prototype.handleSourceFeatureAdded_=function(e){var t=e.feature;this.featureCache_[T(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()},this.featureCount_++},o.prototype.handleSourceFeatureChanged_=function(e){var t=e.feature;this.featureCache_[T(t)]={feature:t,properties:t.getProperties(),geometry:t.getGeometry()}},o.prototype.handleSourceFeatureDelete_=function(e){var t=e.feature;delete this.featureCache_[T(t)],this.featureCount_--},o.prototype.handleSourceFeatureClear_=function(){this.featureCache_={},this.featureCount_=0},o.prototype.renderFrame=function(e){this.preRender(e);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t),this.helper.finalizeDraw(e);var r=this.helper.getCanvas(),i=e.layerStatesArray[e.layerIndex],a=i.opacity;return a!==parseFloat(r.style.opacity)&&(r.style.opacity=String(a)),this.hitDetectionEnabled_&&(this.renderHitDetection(e),this.hitRenderTarget_.clearCachedData()),this.postRender(e),r},o.prototype.prepareFrame=function(e){var t=this.getLayer(),r=t.getSource(),i=e.viewState,a=!e.viewHints[X.ANIMATING]&&!e.viewHints[X.INTERACTING],s=!le(this.previousExtent_,e.extent),u=this.sourceRevision_<r.getRevision();if(u&&(this.sourceRevision_=r.getRevision()),a&&(s||u)){var f=i.projection,c=i.resolution,p=t instanceof Re?t.getRenderBuffer():0,l=he(e.extent,p*c);r.loadFeatures(l,c,f),this.rebuildBuffers_(e),this.previousExtent_=e.extent.slice()}return this.helper.makeProjectionTransform(e,this.currentTransform_),de(this.currentTransform_,this.invertRenderTransform_),this.helper.useProgram(this.program_),this.helper.prepareDraw(e),this.helper.bindBuffer(this.verticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.attributes),!0},o.prototype.rebuildBuffers_=function(e){var t=v();this.helper.makeProjectionTransform(e,t);var r=(2+this.customAttributes.length)*this.featureCount_;if((!this.renderInstructions_||this.renderInstructions_.length!==r)&&(this.renderInstructions_=new Float32Array(r)),this.hitDetectionEnabled_){var i=(7+this.customAttributes.length)*this.featureCount_;(!this.hitRenderInstructions_||this.hitRenderInstructions_.length!==i)&&(this.hitRenderInstructions_=new Float32Array(i))}var a,s,u=[],f=[],c=0,p=0,l;for(var _ in this.featureCache_)if(a=this.featureCache_[_],s=a.geometry,!(!s||s.getType()!==ye.POINT)){u[0]=s.getFlatCoordinates()[0],u[1]=s.getFlatCoordinates()[1],j(t,u),l=Ye(p+6,f),this.renderInstructions_[c++]=u[0],this.renderInstructions_[c++]=u[1],this.hitDetectionEnabled_&&(this.hitRenderInstructions_[p++]=u[0],this.hitRenderInstructions_[p++]=u[1],this.hitRenderInstructions_[p++]=l[0],this.hitRenderInstructions_[p++]=l[1],this.hitRenderInstructions_[p++]=l[2],this.hitRenderInstructions_[p++]=l[3],this.hitRenderInstructions_[p++]=Number(_));for(var g=void 0,L=0;L<this.customAttributes.length;L++)g=this.customAttributes[L].callback(a.feature,a.properties),this.renderInstructions_[c++]=g,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[p++]=g)}var G={type:B.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};if(G.projectionTransform=t,this.worker_.postMessage(G,[this.renderInstructions_.buffer]),this.renderInstructions_=null,this.hitDetectionEnabled_){var S={type:B.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,customAttributesCount:5+this.customAttributes.length};S.projectionTransform=t,S.hitDetection=!0,this.worker_.postMessage(S,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null}},o.prototype.forEachFeatureAtCoordinate=function(e,t,r,i,a){if(M(this.hitDetectionEnabled_,66),!!this.hitRenderInstructions_){var s=j(t.coordinateToPixelTransform,e.slice()),u=this.hitRenderTarget_.readPixel(s[0]/2,s[1]/2),f=[u[0]/255,u[1]/255,u[2]/255,u[3]/255],c=ke(f),p=this.hitRenderInstructions_[c],l=Math.floor(p).toString(),_=this.getLayer().getSource(),g=_.getFeatureByUid(l);if(g)return i(g,this.getLayer(),null)}},o.prototype.renderHitDetection=function(e){if(!!this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(e.size[0]/2),Math.floor(e.size[1]/2)]),this.helper.useProgram(this.hitProgram_),this.helper.prepareDrawToRenderTarget(e,this.hitRenderTarget_,!0),this.helper.bindBuffer(this.hitVerticesBuffer_),this.helper.bindBuffer(this.indicesBuffer_),this.helper.enableAttributes(this.hitDetectionAttributes);var t=this.indicesBuffer_.getSize();this.helper.drawElements(0,t)}},o.prototype.disposeInternal=function(){this.worker_.terminate(),this.layer_=null,this.sourceListenKeys_.forEach(function(e){_e(e)}),this.sourceListenKeys_=null,n.prototype.disposeInternal.call(this)},o}(qe),ot=rt,it=globalThis&&globalThis.__extends||function(){var n=function(o,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},n(o,e)};return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),d={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},nt=["#00f","#0ff","#0f0","#ff0","#f00"],at=function(n){it(o,n);function o(e){var t=this,r=e||{},i=ge({},r);delete i.gradient,delete i.radius,delete i.blur,delete i.weight,t=n.call(this,i)||this,t.gradient_=null,t.addChangeListener(d.GRADIENT,t.handleGradientChanged_),t.setGradient(r.gradient?r.gradient:nt),t.setBlur(r.blur!==void 0?r.blur:15),t.setRadius(r.radius!==void 0?r.radius:8);var a=r.weight?r.weight:"weight";return typeof a=="string"?t.weightFunction_=function(s){return s.get(a)}:t.weightFunction_=a,t.setRenderOrder(null),t}return o.prototype.getBlur=function(){return this.get(d.BLUR)},o.prototype.getGradient=function(){return this.get(d.GRADIENT)},o.prototype.getRadius=function(){return this.get(d.RADIUS)},o.prototype.handleGradientChanged_=function(){this.gradient_=st(this.getGradient())},o.prototype.setBlur=function(e){this.set(d.BLUR,e)},o.prototype.setGradient=function(e){this.set(d.GRADIENT,e)},o.prototype.setRadius=function(e){this.set(d.RADIUS,e)},o.prototype.createRenderer=function(){return new ot(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(e){var t=this.weightFunction_(e);return t!==void 0?me(t,0,1):1}.bind(this)}],vertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_weight = a_weight;
        }`,fragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          gl_FragColor = vec4(alpha, alpha, alpha, alpha);
        }`,hitVertexShader:`
        precision mediump float;
        uniform mat4 u_projectionMatrix;
        uniform mat4 u_offsetScaleMatrix;
        uniform float u_size;
        attribute vec2 a_position;
        attribute float a_index;
        attribute float a_weight;
        attribute vec4 a_hitColor;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          mat4 offsetMatrix = u_offsetScaleMatrix;
          float offsetX = a_index == 0.0 || a_index == 3.0 ? -u_size / 2.0 : u_size / 2.0;
          float offsetY = a_index == 0.0 || a_index == 1.0 ? -u_size / 2.0 : u_size / 2.0;
          vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
          gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
          float u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
          float v = a_index == 0.0 || a_index == 1.0 ? 0.0 : 1.0;
          v_texCoord = vec2(u, v);
          v_hitColor = a_hitColor;
          v_weight = a_weight;
        }`,hitFragmentShader:`
        precision mediump float;
        uniform float u_blurSlope;

        varying vec2 v_texCoord;
        varying float v_weight;
        varying vec4 v_hitColor;

        void main(void) {
          vec2 texCoord = v_texCoord * 2.0 - vec2(1.0, 1.0);
          float sqRadius = texCoord.x * texCoord.x + texCoord.y * texCoord.y;
          float value = (1.0 - sqrt(sqRadius)) * u_blurSlope;
          float alpha = smoothstep(0.0, 1.0, value) * v_weight;
          if (alpha < 0.05) {
            discard;
          }

          gl_FragColor = v_hitColor;
        }`,uniforms:{u_size:function(){return(this.get(d.RADIUS)+this.get(d.BLUR))*2}.bind(this),u_blurSlope:function(){return this.get(d.RADIUS)/Math.max(1,this.get(d.BLUR))}.bind(this)},postProcesses:[{fragmentShader:`
            precision mediump float;

            uniform sampler2D u_image;
            uniform sampler2D u_gradientTexture;

            varying vec2 v_texCoord;

            void main() {
              vec4 color = texture2D(u_image, v_texCoord);
              gl_FragColor.a = color.a;
              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;
              gl_FragColor.rgb *= gl_FragColor.a;
            }`,uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this)}}]})},o.prototype.renderDeclutter=function(){},o}(Fe);function st(n){for(var o=1,e=256,t=ve(o,e),r=t.createLinearGradient(0,0,o,e),i=1/(n.length-1),a=0,s=n.length;a<s;++a)r.addColorStop(a*i,n[a]);return t.fillStyle=r,t.fillRect(0,0,o,e),t.canvas}var ut=at,pt=globalThis&&globalThis.__extends||function(){var n=function(o,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},n(o,e)};return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(o,e);function t(){this.constructor=o}o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}(),ct=['Map tiles by <a href="https://stamen.com/" target="_blank">Stamen Design</a>, under <a href="https://creativecommons.org/licenses/by/3.0/" target="_blank">CC BY 3.0</a>.',Le],ft={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},lt={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}},ht=function(n){pt(o,n);function o(e){var t=this,r=e.layer.indexOf("-"),i=r==-1?e.layer:e.layer.slice(0,r),a=lt[i],s=ft[e.layer],u=e.url!==void 0?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+s.extension;return t=n.call(this,{attributions:ct,cacheSize:e.cacheSize,crossOrigin:"anonymous",imageSmoothing:e.imageSmoothing,maxZoom:e.maxZoom!=null?e.maxZoom:a.maxZoom,minZoom:e.minZoom!=null?e.minZoom:a.minZoom,opaque:s.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:u,wrapX:e.wrapX,zDirection:e.zDirection})||this,t}return o}(Ae),dt=ht;const yt="FeatureCollection",_t=[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[149.042007,-35.349998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-71.660004,-35.423]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.315994,-35.721001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-64.288002,-36.627998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-73.055,-36.826]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.761002,-36.903999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[176.154999,-37.700001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[175.272995,-37.776001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.075104,-37.852959]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[178.016006,-38.659]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-62.274067,-38.725273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.575996,-38.729]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-68.283333,-38.944908]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.078003,-39.07]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[176.841003,-39.639999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[175.035004,-39.93]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-62.995026,-40.815025]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[173.248001,-41.297001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.952003,-41.474998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[171.207001,-42.472]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.291,-42.851002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.099998,-43.299999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.638,-43.523998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.702003,-45.402]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.5,-45.830002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.473999,-45.883999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.373001,-46.412998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.228996,-51.625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-57.848999,-51.701]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-70.934654,-53.166161]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-68.297997,-54.792]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[129.054993,35.158001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[23.331871,42.707264]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.598,11.864]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.147949,-9.497187]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.080513,4.63022]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[12.55,55.720001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.831787,1.268858]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[126.935249,37.542351]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[16.320986,48.202118]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.449841,-34.622501]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.368,50.837002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.82608,-12.157536]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.973783,43.282158]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[126.907997,35.153]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[128.591003,35.863998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.310997,5.364]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.5,-21.5]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[166.916702,-.5167]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.448002,35.773998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.700001,34.083332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-5.3167,35.883301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.933304,33.950001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.761993,35.41]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[77.216751,28.568726]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.22522,31.773746]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.934,62.633999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.638,58.402]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[14.178,57.785999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.233002,46.266998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[90.374001,22.702999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.983002,59.083]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.532997,51.167]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[104.699997,52.833]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.282997,64.333]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[86.217003,69.449997]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69,61.016998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[54.667,59.016998]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.033001,67.616997]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.783001,43.233002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.899994,48.817001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[34.333,61.783001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[32,63]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[23.708,70.677002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-53.553001,69.244003]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-133.705994,68.365997]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.040001,67.504997]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-21.895,64.135002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-149.897995,61.202999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-66.810997,54.800999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.309998,54.320999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.971,53.423]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.311001,48.622002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.123001,46.692001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-66.068001,45.264]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[38.960999,45.036999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[34.104,44.962002]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.063,44.282001]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.371002,42.889]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.807999,40.659]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[23.653,37.944]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[39.173,21.542999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.123001,19.184999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.507999,18.219999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.978,18.084]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[74.843002,12.869]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-10.797,6.301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[7.068,6.215]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[9.454,.391]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.299,-4.321]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[34.743999,-4.817]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-77.044998,-12.082]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-57.283001,-25.406]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-71.332001,-29.959]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.659145,61.259964]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.80722,-41.334835]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[86.599289,67.493851]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.480255,64.755272]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.991455,59.331165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.280418,9.970155]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.281559,53.29509]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.674783,42.850159]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-68.541466,63.755356]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.141739,43.690456]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[20.412556,44.799683]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.4,42.5]}}];var gt={type:yt,features:_t};const k=n=>(Q("data-v-5316aecc"),n=n(),ee(),n),mt=k(()=>m("label",null,"\u534A\u5F84\u5927\u5C0F",-1)),vt=k(()=>m("label",null,"\u6A21\u7CCA\u534A\u5F84",-1)),Tt={setup(n){const o=x(15),e=x(5),t=q(),r=x(null),i=x(null);function a(){i.value=new ut({name:"\u70ED\u529B\u70ED\u529B",source:new Pe({features:new te().readFeatures(gt,{dataProjection:"EPSG:4326",featureProjection:"EPSG:4326"})}),radius:10,blur:10,gradient:["#00f","#0ff","#0f0","#ff0","#f00"]}),r.value=new Te({target:"map",layers:[new be({name:"\u5E95\u56FE",source:new dt({layer:"toner"})}),i.value],view:new Ee({projection:"EPSG:3857",center:[20.042007,-35.349998],zoom:19})})}function s(){i.value.setRadius(parseInt(o.value,10))}function u(){i.value.setBlur(parseInt(e.value,10))}function f(){let c=r.value.getLayers();for(var p=0;p<c.getLength();p++)console.log("\u56FE\u5C42\u540D\uFF1A",c.item(p).get("name"))}return Z(()=>{t.commit("setComponentPath","src/views/OpenLayers/Basic/pages/Heatmap/Heatmap.vue"),a()}),(c,p)=>($(),K(J,null,[m("div",{id:"map",class:"map__x",ref:(l,_)=>{_.map=l,r.value=l}},null,512),mt,O(m("input",{id:"radius",type:"range",min:"1",max:"50",step:"1","onUpdate:modelValue":p[0]||(p[0]=l=>o.value=l),onChange:s},null,544),[[N,o.value]]),vt,O(m("input",{id:"blur",type:"range",min:"1",max:"50",step:"1","onUpdate:modelValue":p[1]||(p[1]=l=>e.value=l),onChange:u},null,544),[[N,e.value]]),m("button",{onClick:f},"\u5728\u63A7\u5236\u53F0\u8F93\u51FA\u6D82\u5C42\u540D")],64))}};var Dt=xe(Tt,[["__scopeId","data-v-5316aecc"]]);export{Dt as default};
