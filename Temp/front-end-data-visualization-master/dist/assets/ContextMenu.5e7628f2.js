import{A as w,b as v,C as g,o as C,e as M,J as y,O as S,f as s,P as k,Q as R,s as I,v as j,R as B}from"./vendor.b99b632f.js";import{f as a}from"./fabric.49791ffe.js";import{_ as D}from"./index.8bb5b140.js";const l=c=>(I("data-v-3fc9fc09"),c=c(),j(),c),E={class:"context__x"},P=l(()=>s("canvas",{width:"600",height:"600",id:"canvas",style:{border:"1px solid #ccc"}},null,-1)),A=l(()=>s("div",null,"\u4EC0\u4E48\u90FD\u4E0D\u505A",-1)),H=l(()=>s("div",null,"\u4EC0\u4E48\u90FD\u4E0D\u505A",-1)),J=l(()=>s("div",null,"\u4EC0\u4E48\u90FD\u4E0D\u505A",-1)),O=l(()=>s("div",null,"\u4EC0\u4E48\u90FD\u4E0D\u505A",-1)),T={setup(c){const p=w(),r=v(null);let t=null;const u=v(!1),h=v("");let f=null;function m(){t=new a.fabric.Canvas("canvas",{fireRightClick:!0,stopContextMenu:!0});const e=new a.fabric.Rect({left:10,top:510,fill:"orange",width:40,height:40}),n=new a.fabric.Rect({left:510,top:10,fill:"pink",width:40,height:40,rx:10,ry:10}),i=new a.fabric.Circle({radius:30,fill:"green",left:20,top:20});let o=new a.fabric.Triangle({width:80,height:100,fill:"blue",left:500,top:480});t.add(e,n,i,o),t.on("mouse:down",x)}async function x(e){if(e.button===3&&e.target){f=e.target,u.value=!0,await B();const n=r.value.offsetWidth,i=r.value.offsetHeight;let o=e.pointer.x,d=e.pointer.y;t.width-o<=n&&(o-=n),t.height-d<=i&&(d-=i),h.value=`
      left: ${o}px;
      top: ${d}px;
    `}else _()}function _(){u.value=!1,f=null}function b(){t.remove(f),t.requestRenderAll(),_()}return g(()=>{p.commit("setComponentPath","src/views/FabricJS/Demo/pages/ContextMenu/ContextMenu.vue"),m()}),(e,n)=>(C(),M("div",E,[P,y(s("div",{id:"menu",class:"menu-x",style:k(h.value),onContextmenu:n[0]||(n[0]=R(()=>{},["prevent"])),ref:(i,o)=>{o.menu=i,r.value=i}},[A,H,J,O,s("div",{onClick:b},"\u5220\u9664")],36),[[S,u.value]])]))}};var q=D(T,[["__scopeId","data-v-3fc9fc09"]]);export{q as default};
